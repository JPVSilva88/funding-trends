{"version":3,"sources":["Overall.js"],"names":[],"mappings":";;;;;;;;;;;;;;;;qBAAiC,OAAO;;;;0BAChB,aAAa;;2BAClB,cAAc;;;;8BACb,qBAAqB;;;;kBAC1B,IAAI;;;;QAEZ,uCAAuC;;QACvC,oCAAoC;;QACpC,eAAe;;wBAEL,cAAc;;;;0BACR,cAAc;;;;0BACd,cAAc;;;;uBACjB,WAAW;;;;sBACZ,WAAW;;;;0BACX,gBAAgB;;;;iCACT,uBAAuB;;;;8BAC1B,oBAAoB;;;;AAE3C,IAAM,eAAe,GAAG,SAAlB,eAAe,CAAI,KAAK,EAAK;AAC/B,WAAO;AACH,YAAI,EAAE,KAAK,CAAC,YAAY;AACxB,oBAAY,EAAE,KAAK,CAAC,YAAY;KACnC,CAAC;CACL,CAAC;;AAEF,IAAM,kBAAkB,GAAG,SAArB,kBAAkB,CAAI,QAAQ,EAAK;AACrC,WAAO;AACH,eAAO,EAAE,iBAAC,IAAI,EAAK;AACf,oBAAQ,CAAC,4BAAQ,OAAO,CAAC,IAAI,CAAC,CAAC,CAAC;SACnC;AACD,eAAO,EAAE,iBAAC,IAAI,EAAK;AACf,oBAAQ,CAAC,4BAAQ,OAAO,CAAC,IAAI,CAAC,CAAC,CAAC;SACnC;AACD,uBAAe,EAAE,yBAAC,IAAI,EAAK;AACvB,oBAAQ,CAAC,4BAAQ,eAAe,CAAC,IAAI,CAAC,CAAC,CAAC;SAC3C;KACJ,CAAC;CACL,CAAC;;IACI,OAAO;cAAP,OAAO;;AACE,aADT,OAAO,CACG,KAAK,EAAE;8BADjB,OAAO;;AAEL,mCAFF,OAAO,6CAEC,KAAK,EAAE;;AAEb,YAAI,CAAC,OAAO,GAAG,CAAC,IAAI,EAAC,IAAI,EAAC,IAAI,EAAC,IAAI,EAAC,IAAI,CAAC,CAAC,GAAG,CAAC,UAAC,CAAC,EAAK;AACjD,mBAAO;AACH,qBAAK,EAAE,CAAC;AACR,qBAAK,EAAE,CAAC;aACX,CAAA;SACJ,CAAC,CAAC;;AAEH,YAAI,CAAC,aAAa,GAAG,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;AACnD,YAAI,CAAC,aAAa,GAAG,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;KACtD;;iBAbC,OAAO;;eAeQ,6BAAG;AAChB,gBAAI,CAAC,UAAU,EAAE,CAAC;SACrB;;;eAEiB,8BAAG;AACjB,gBAAI,CAAC,UAAU,EAAE,CAAC;SACrB;;;eAEc,yBAAC,OAAO,EAAE,QAAQ,EAAE,GAAG,EAAE,QAAQ,EAAsB;gBAApB,UAAU,yDAAG,KAAK;gBACxD,IAAI,GAAK,IAAI,CAAC,KAAK,CAAnB,IAAI;;AACZ,gBAAM,MAAM,GAAG,EAAE,CAAC;AAClB,iBAAI,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,GAAG,EAAE,CAAC,IAAI,QAAQ,EAAE;AACnC,sBAAM,CAAC,IAAI,CAAC;AACR,yBAAK,EAAE,CAAC;AACR,yBAAK,EAAE,CAAC;AACR,uBAAG,EAAE,CAAC,GAAG,QAAQ;AACjB,yBAAK,EAAK,oBAAO,gBAAgB,CAAC,CAAC,EAAE,UAAU,EAAE,CAAC,CAAC,WAAM,oBAAO,gBAAgB,CAAC,CAAC,GAAG,QAAQ,EAAE,UAAU,EAAE,CAAC,CAAC,AAAE;AAC/G,wBAAI,EAAE,EAAE;iBACX,CAAC,CAAC;aACN;;AAED,kBAAM,CAAC,IAAI,CAAC;AACR,qBAAK,EAAE,CAAC;AACR,qBAAK,EAAE,GAAG;AACV,mBAAG,EAAE,QAAQ;AACb,qBAAK,EAAK,oBAAO,gBAAgB,CAAC,GAAG,EAAE,UAAU,EAAE,CAAC,CAAC,MAAG;AACxD,oBAAI,EAAE,EAAE;aACX,CAAC,CAAC;AACH,kCAAK,WAAW,CAAC,OAAO,CAAC,UAAC,CAAC,EAAK;AAC5B,oBAAG,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,EAAE;AACX,2BAAO;iBACV;;AAED,oBAAM,MAAM,GAAG,MAAM,CAAC,IAAI,CAAC,UAAC,CAAC;2BAAK,CAAC,CAAC,KAAK,IAAI,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,QAAQ,CAAC;iBAAA,CAAC,CAAC;AAClG,sBAAM,CAAC,KAAK,EAAE,CAAC;AACf,sBAAM,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;aACvB,CAAC,CAAC;;AAEH,mBAAO;AACH,sBAAM,EAAE,SAAS,GAAG,OAAO;AAC3B,oBAAI,EAAE;AACF,wBAAI,EAAE,MAAM;AACZ,wBAAI,EAAE;AACF,6BAAK,EAAE,CAAC,OAAO,CAAC;AAChB,yBAAC,EAAE,OAAO;qBACb;AACD,wBAAI,EAAE,KAAK;AACX,0BAAM,EAAE,IAAI;iBACf;AACD,oBAAI,EAAE;AACF,qBAAC,EAAE;AACC,4BAAI,EAAE,YAAY;AAClB,4BAAI,EAAE;AACF,kCAAM,EAAE,EAAE;AACV,qCAAS,EAAE,KAAK;yBACnB;qBACJ;AACD,qBAAC,EAAE;AACC,6BAAK,EAAE;AACH,gCAAI,EAAE,mBAAmB;AACzB,oCAAQ,EAAE,cAAc;yBAC3B;qBACJ;iBACJ;AACD,mBAAG,EAAE;AACD,yBAAK,EAAE;AACH,6BAAK,EAAE,IAAI;qBACd;iBACJ;AACD,qBAAK,EAAE;AACH,2BAAO,EAAE,OAAO,KAAK,OAAO,GAAG,CAAC,SAAS,CAAC,GAAG,CAAC,SAAS,CAAC;iBAC3D;AACD,sBAAM,EAAE;AACJ,wBAAI,EAAE,KAAK;iBACd;AACD,uBAAO,EAAE;AACL,4BAAQ,EAAE,kBAAC,CAAC,EAAK;AACb,4BAAI,IAAI,GAAG,4BAA4B,CAAC;AACxC,8BAAM,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,UAAC,CAAC,EAAC,CAAC;mCAAK,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,QAAQ,CAAC;yBAAA,CAAC,CAAC,OAAO,CAAC,UAAC,CAAC,EAAK;AAC5F,gCAAI,IAAI,2BAA2B,CAAC;AACpC,gCAAI,IAAI,OAAO,CAAC;AAChB,gCAAI,IAAI,CAAC,CAAC,CAAC,CAAC;AACZ,gCAAI,IAAI,QAAQ,CAAC;AACjB,gCAAI,IAAI,OAAO,CAAC;AAChB,gCAAI,IAAI,oBAAO,gBAAgB,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,QAAQ,CAAC,EAAE,UAAU,EAAE,CAAC,CAAC,CAAC;AACpE,gCAAI,IAAI,QAAQ,CAAC;AACjB,gCAAI,IAAI,QAAQ,CAAC;yBACpB,CAAC,CAAC;AACH,4BAAI,IAAI,QAAQ,CAAC;AACjB,+BAAO,IAAI,CAAC;qBACf;iBACJ;aACJ,CAAA;SACJ;;;;;;;eAKS,sBAAG;AACT,4BAAG,QAAQ,CACP,IAAI,CAAC,eAAe,CAChB,OAAO,EACP,EAAE,EACF,GAAG,EACH,GAAG,CACN,CAAC,CAAC;AACP,4BAAG,QAAQ,CACP,IAAI,CAAC,eAAe,CAChB,OAAO,EACP,MAAM,EACN,OAAO,EACP,GAAG,EACH,IAAI,CACP,CAAC,CAAC;SACV;;;eAEY,uBAAC,QAAQ,EAAE;AACpB,gBAAI,CAAC,KAAK,CAAC,OAAO,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC;SACtC;;;eAEY,yBAAG;;;AACZ,gBAAI,CAAC,KAAK,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC;AAC3B,gBAAI,CAAC,KAAK,CAAC,YAAY,CAAC,OAAO,CAAC,UAAC,EAAE;uBAAK,MAAK,KAAK,CAAC,eAAe,CAAC,EAAE,CAAC;aAAA,CAAC,CAAC;SAC3E;;;eAEK,kBAAG;;;yBAC0B,IAAI,CAAC,KAAK;gBAAjC,IAAI,UAAJ,IAAI;gBAAE,YAAY,UAAZ,YAAY;;AAC1B,gBAAM,SAAS,GAAG,EAAE,CAAC,MAAM,CAAC,sBAAK,WAAW,CAAC,CAAC,MAAM,CAAC,UAAC,CAAC;uBAAK,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC;aAAA,CAAC,CAAC,IAAI,CAAC,UAAC,CAAC,EAAE,CAAC;uBAAK,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC;aAAA,CAAC,CAAC;;AAEjH,gBAAM,YAAY,GAAG,sBAAK,WAAW,CAAC,MAAM,CAAC,UAAC,GAAG,EAAE,CAAC,EAAK;AACrD,uBAAO,GAAG,GAAG,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;aAClC,EAAE,CAAC,CAAC,CAAC;AACN,gBAAM,WAAW,GAAG,sBAAK,WAAW,CAAC,MAAM,CAAC,UAAC,GAAG,EAAE,CAAC,EAAK;AACpD,uBAAO,GAAG,GAAG,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC;aAC5C,EAAE,CAAC,CAAC,CAAC;AACN,gBAAM,UAAU,GAAG,sBAAK,WAAW,CAAC,MAAM,CAAC,UAAC,GAAG,EAAE,CAAC,EAAK;AACnD,uBAAO,GAAG,GAAG,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC;aAC5C,EAAE,CAAC,CAAC,CAAC;AACN,gBAAM,QAAQ,GAAG,MAAM,CAAC,IAAI,CAAC,sBAAK,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,UAAC,GAAG,EAAE,CAAC,EAAK;AACjE,uBAAO,IAAI,CAAC,GAAG,CAAC,GAAG,EAAE,sBAAK,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;aAChD,EAAE,CAAC,QAAQ,CAAC,CAAC;AACd,gBAAM,cAAc,GAAG,MAAM,CAAC,IAAI,CAAC,sBAAK,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,UAAC,GAAG,EAAE,CAAC,EAAK;AACvE,uBAAO,IAAI,CAAC,GAAG,CAAC,GAAG,EAAE,sBAAK,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;aAChD,EAAE,CAAC,QAAQ,CAAC,CAAC;AACd,gBAAM,YAAY,GAAG,MAAM,CAAC,IAAI,CAAC,sBAAK,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,UAAC,GAAG,EAAE,CAAC,EAAK;AACrE,uBAAO,IAAI,CAAC,GAAG,CAAC,GAAG,EAAE,sBAAK,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;aAChD,EAAE,CAAC,QAAQ,CAAC,CAAC;;AAEd,mBAAO;;kBAAK,SAAS,EAAC,mBAAmB;gBACrC;;sBAAK,SAAS,EAAC,gBAAgB;oBAC3B;;0BAAK,SAAS,EAAC,MAAM,EAAC,OAAO,EAAE,IAAI,CAAC,aAAa,AAAC;wBAC9C,wCAAG,SAAS,EAAC,0BAA0B,GAAE;qBACvC;oBACN;;0BAAK,SAAS,EAAC,kBAAkB;wBAC7B;;8BAAK,SAAS,EAAC,kBAAkB;;yBAA6B;qBAC5D;oBACN;;0BAAK,SAAS,EAAC,eAAe;;wBAE1B;AACI,mCAAO,EAAE,IAAI,CAAC,OAAO,AAAC;AACtB,iCAAK,EAAE,IAAI,AAAC;AACZ,oCAAQ,EAAE,IAAI,CAAC,aAAa,AAAC;AAC7B,qCAAS,EAAE,KAAK,AAAC;AACjB,sCAAU,EAAE,KAAK,AAAC;0BACpB;qBACA;iBACJ;gBACN;;sBAAK,SAAS,EAAC,eAAe;oBAAC;;;;qBAA0C;iBAAM;gBAC/E;AACI,wBAAI,EAAE,SAAS,AAAC;AAChB,4BAAQ,EAAE,UAAC,CAAC;+BAAK,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC;qBAAA,AAAC;AAC7B,2BAAO,EAAE;+BAAM,OAAK,KAAK,CAAC,eAAe,CAAC,cAAc,CAAC;qBAAA,AAAC;AAC1D,gCAAY,EAAE,YAAY,CAAC,OAAO,CAAC,cAAc,CAAC,GAAG,CAAC,CAAC,GAAG,UAAU,GAAG,UAAU,AAAC;AAClF,uBAAG,EAAE,YAAY,CAAC,OAAO,CAAC,cAAc,CAAC,GAAG,CAAC,CAAC,GAAG,EAAE,GAAG,CAAC,AAAC;kBAC1D;gBACF;;sBAAK,SAAS,EAAC,eAAe;oBAAC;;;;qBAA6C;iBAAM;gBAClF;AACI,8BAAU,EAAC,YAAY;AACvB,wBAAI,EAAE,sBAAK,cAAc,CAAC,IAAI,CAAC,CAAC,GAAG,AAAC;AACpC,4BAAQ,EAAE,UAAC,CAAC;+BAAK,CAAC,CAAC,CAAC;qBAAA,AAAC;kBACvB;gBACF;;sBAAK,SAAS,EAAC,eAAe;oBAAC;;;;qBAA2B;iBAAM;gBAChE;;sBAAK,SAAS,EAAC,kBAAkB;;iBAAoD;gBACrF;;sBAAK,SAAS,EAAC,gBAAgB;oBAC3B;AACI,6BAAK,EAAE,WAAW,GAAG,YAAY,AAAC;AAClC,iCAAS,EAAE,CAAC,AAAC;AACb,6BAAK,EAAC,qCAAqC;sBAC7C;oBACF,0CAAK,SAAS,EAAC,OAAO,EAAC,EAAE,EAAC,aAAa,GAAE;iBACvC;gBACN;;sBAAK,SAAS,EAAC,kBAAkB;;iBAAsD;gBACvF;;sBAAK,SAAS,EAAC,eAAe;oBAC1B;AACI,6BAAK,EAAE,UAAU,GAAG,WAAW,AAAC;AAChC,iCAAS,EAAE,CAAC,AAAC;AACb,6BAAK,EAAC,oBAAoB;AAC1B,kCAAU,EAAE,IAAI,AAAC;sBACnB;oBACF,0CAAK,SAAS,EAAC,OAAO,EAAC,EAAE,EAAC,aAAa,GAAE;iBACvC;gBACN;;sBAAK,SAAS,EAAC,eAAe;oBAAC;;;;qBAA+B;iBAAM;gBACpE;;sBAAK,SAAS,EAAC,kBAAkB;;iBAAa;gBAC9C;AACI,wBAAI,EAAE,MAAM,CAAC,IAAI,CAAC,sBAAK,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,AAAC;AACvC,6BAAS,EAAE,UAAC,CAAC;+BAAK,wBAAO,IAAI,CAAC,UAAC,EAAE;mCAAK,EAAE,CAAC,EAAE,IAAI,CAAC;yBAAA,CAAC;qBAAA,AAAC;AAClD,4BAAQ,EAAE,UAAC,CAAC;+BAAK,sBAAK,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;qBAAA,AAAC;AACxC,4BAAQ,EAAE,QAAQ,AAAC;AACnB,8BAAU,EAAC,OAAO;kBACpB;gBACF;;sBAAK,SAAS,EAAC,kBAAkB;;iBAAY;gBAC7C;AACI,wBAAI,EAAE,MAAM,CAAC,IAAI,CAAC,sBAAK,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,AAAC;AACvC,6BAAS,EAAE,UAAC,CAAC;+BAAK,+BAAc,IAAI,CAAC,UAAC,EAAE;mCAAK,EAAE,CAAC,EAAE,IAAI,CAAC;yBAAA,CAAC;qBAAA,AAAC;AACzD,4BAAQ,EAAE,UAAC,CAAC;+BAAK,sBAAK,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;qBAAA,AAAC;AACxC,4BAAQ,EAAE,cAAc,AAAC;AACzB,8BAAU,EAAC,aAAa;kBAC1B;gBACF;;sBAAK,SAAS,EAAC,kBAAkB;;iBAAiB;gBAClD;AACI,wBAAI,EAAE,MAAM,CAAC,IAAI,CAAC,sBAAK,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,AAAC;AACvC,6BAAS,EAAE,UAAC,CAAC;+BAAK,4BAAW,IAAI,CAAC,UAAC,EAAE;mCAAK,EAAE,CAAC,EAAE,IAAI,CAAC;yBAAA,CAAC;qBAAA,AAAC;AACtD,4BAAQ,EAAE,UAAC,CAAC;+BAAK,sBAAK,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;qBAAA,AAAC;AACxC,4BAAQ,EAAE,YAAY,AAAC;AACvB,8BAAU,EAAC,WAAW;kBACxB;gBACF;;sBAAK,SAAS,EAAC,aAAa;oBACxB;;;;wBAA8I;;8BAAM,SAAS,EAAC,UAAU,EAAC,OAAO,EAAE;2CAAM,OAAK,KAAK,CAAC,OAAO,CAAC,OAAO,CAAC;iCAAA,AAAC;;yBAAa;;qBAAmC;iBAClQ;aACJ,CAAC;SACV;;;WArPC,OAAO;;;qBAwPE,yBAAQ,eAAe,EAAE,kBAAkB,CAAC,CAAC,OAAO,CAAC","file":"Overall-compiled.js","sourcesContent":["import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport Select from 'react-select';\nimport actions from '../actions/index.js';\nimport c3 from 'c3';\n\nimport 'font-awesome/css/font-awesome.min.css';\nimport 'react-select/dist/react-select.css';\nimport 'c3/c3.min.css';\n\nimport data from '../data.json';\nimport BubbleData from './BubbleData';\nimport NumberData from './NumberData';\nimport Heatmap from './Heatmap';\nimport Helper from '../Helper';\nimport causes from '../causes.json';\nimport beneficiaries from '../beneficiaries.json';\nimport operations from '../operations.json';\n\nconst mapStateToProps = (state) => {\n    return {\n        year: state.selectedYear,\n        bubbleExpand: state.bubbleExpand\n    };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n    return {\n        setPage: (name) => {\n            dispatch(actions.setPage(name));\n        },\n        setYear: (year) => {\n            dispatch(actions.setYear(year));\n        },\n        setBubbleExpand: (name) => {\n            dispatch(actions.setBubbleExpand(name));\n        }\n    };\n};\nclass Overall extends Component {\n    constructor(props) {\n        super(props);\n\n        this.options = [2013,2014,2015,2016,2017].map((y) => {\n            return {\n                label: y,\n                value: y\n            }\n        });\n\n        this.onBackClicked = this.onBackClicked.bind(this);\n        this.onYearChanged = this.onYearChanged.bind(this);\n    }\n\n    componentDidMount() {\n        this.startChart();\n    }\n\n    componentDidUpdate() {\n        this.startChart();\n    }\n\n    getChartOptions(chartId, interval, max, property, isCurrency = false) {\n        const { year } = this.props;\n        const number = [];\n        for(var i = 0; i < max; i += interval) {\n            number.push({\n                value: 0,\n                start: i,\n                end: i + interval,\n                label: `${Helper.getDisplayNumber(i, isCurrency, 2)} - ${Helper.getDisplayNumber(i + interval, isCurrency, 2)}`,\n                list: []\n            });\n        }\n\n        number.push({\n            value: 0,\n            start: max,\n            end: Infinity,\n            label: `${Helper.getDisplayNumber(max, isCurrency, 2)}+`,\n            list: []\n        });\n        data.foundations.forEach((f) => {\n            if(!f.y[year]) {\n                return;\n            }\n\n            const numObj = number.find((n) => n.start <= f.y[year][property] && n.end >= f.y[year][property]);\n            numObj.value++;\n            numObj.list.push(f);\n        });\n\n        return {\n            bindto: \"#chart-\" + chartId,\n            data: {\n                json: number,\n                keys: {\n                    value: ['value'],\n                    x: 'label'\n                },\n                type: 'bar',\n                labels: true\n            },\n            axis: {\n                x: {\n                    type: 'categories',\n                    tick: {\n                        rotate: 45,\n                        multiline: false\n                    }\n                },\n                y: {\n                    label: {\n                        text: 'Number of funders',\n                        position: 'outer-center'\n                    }\n                }\n            },\n            bar: {\n                width: {\n                    ratio: 0.75\n                }\n            },\n            color: {\n                pattern: chartId === \"count\" ? ['#F3832E'] : ['#F9C08F']\n            },\n            legend: {\n                show: false\n            },\n            tooltip: {\n                contents: (d) => {\n                    var text = \"<div class='tooltip-text'>\";\n                    number[d[0].index].list.sort((a,b) => b.y[year][property] - a.y[year][property]).forEach((l) => {\n                        text += \"<div class='tooltip-row'>\";\n                        text += \"<div>\";\n                        text += l.n;\n                        text += \"</div>\";\n                        text += \"<div>\";\n                        text += Helper.getDisplayNumber(l.y[year][property], isCurrency, 2);\n                        text += \"</div>\";\n                        text += \"</div>\";\n                    });\n                    text += \"</div>\";\n                    return text;\n                }\n            }\n        }\n    }\n\n    /**\n     * Generates the chart.\n     */\n    startChart() {\n        c3.generate(\n            this.getChartOptions(\n                \"count\",\n                20,\n                300,\n                'c'\n            ));\n        c3.generate(\n            this.getChartOptions(\n                \"money\",\n                250000,\n                4000000,\n                'm',\n                true\n            ));\n    }\n\n    onYearChanged(newValue) {\n        this.props.setYear(newValue.value);\n    }\n\n    onBackClicked() {\n        this.props.setPage(\"home\");\n        this.props.bubbleExpand.forEach((be) => this.props.setBubbleExpand(be));\n    }\n\n    render() {\n        const { year, bubbleExpand } = this.props;\n        const moneySort = [].concat(data.foundations).filter((f) => f.y[year]).sort((a, b) => b.y[year].m - a.y[year].m);\n\n        const totalFunders = data.foundations.reduce((acc, f) => {\n            return acc + f.y[year] ? 1 : 0;\n        }, 0);\n        const totalGrants = data.foundations.reduce((acc, f) => {\n            return acc + f.y[year] ? f.y[year].c : 0;\n        }, 0);\n        const totalMoney = data.foundations.reduce((acc, f) => {\n            return acc + f.y[year] ? f.y[year].m : 0;\n        }, 0);\n        const maxCause = Object.keys(data.themes[year].c).reduce((acc, c) => {\n            return Math.max(acc, data.themes[year].c[c]);\n        }, -Infinity);\n        const maxBeneficiary = Object.keys(data.themes[year].b).reduce((acc, b) => {\n            return Math.max(acc, data.themes[year].b[b]);\n        }, -Infinity);\n        const maxOperation = Object.keys(data.themes[year].o).reduce((acc, o) => {\n            return Math.max(acc, data.themes[year].o[o]);\n        }, -Infinity);\n\n        return <div className=\"dashboard overall\">\n            <div className=\"dashboard--top\">\n                <div className=\"back\" onClick={this.onBackClicked}>\n                    <i className=\"fa fa-chevron-left fa-2x\"/>\n                </div>\n                <div className=\"dashboard--title\">\n                    <div className=\"foundation--name\">Overall Funding Trends</div>\n                </div>\n                <div className=\"year-selector\">\n                    Data for Year\n                    <Select\n                        options={this.options}\n                        value={year}\n                        onChange={this.onYearChanged}\n                        clearable={false}\n                        searchable={false}\n                    />\n                </div>\n            </div>\n            <div className=\"section-title\"><span>Top Funders By Grant Spending</span></div>\n            <BubbleData\n                list={moneySort}\n                getValue={(f) => f.y[year].m}\n                seeMore={() => this.props.setBubbleExpand(\"overallMoney\")}\n                seeMoreLabel={bubbleExpand.indexOf(\"overallMoney\") > -1 ? \"See Less\" : \"See More\"}\n                end={bubbleExpand.indexOf(\"overallMoney\") > -1 ? 15 : 5}\n            />\n            <div className=\"section-title\"><span>Top Recipients by Grant Received</span></div>\n            <BubbleData\n                colorClass=\"bubble-alt\"\n                list={data.averageFunders[year].top}\n                getValue={(f) => f.m}\n            />\n            <div className=\"section-title\"><span>Key Statistics</span></div>\n            <div className=\"subsection-title\">Distribution of Funders by Average Grant Size</div>\n            <div className=\"average-grants\">\n                <NumberData\n                    value={totalGrants / totalFunders}\n                    maxDigits={0}\n                    title=\"Average Number Of Grants Per Funder\"\n                />\n                <div className=\"chart\" id=\"chart-count\"/>\n            </div>\n            <div className=\"subsection-title\">Distribution of Funders by Total Grants Awarded</div>\n            <div className=\"average-money\">\n                <NumberData\n                    value={totalMoney / totalGrants}\n                    maxDigits={0}\n                    title=\"Average Grant Size\"\n                    isCurrency={true}\n                />\n                <div className=\"chart\" id=\"chart-money\"/>\n            </div>\n            <div className=\"section-title\"><span>Spending on Themes</span></div>\n            <div className=\"subsection-title\">Causes</div>\n            <Heatmap\n                list={Object.keys(data.themes[year].c)}\n                getObject={(c) => causes.find((c2) => c2.id == c)}\n                getValue={(c) => data.themes[year].c[c]}\n                maxValue={maxCause}\n                colorClass=\"cause\"\n            />\n            <div className=\"subsection-title\">Users</div>\n            <Heatmap\n                list={Object.keys(data.themes[year].b)}\n                getObject={(b) => beneficiaries.find((b2) => b2.id == b)}\n                getValue={(b) => data.themes[year].b[b]}\n                maxValue={maxBeneficiary}\n                colorClass=\"beneficiary\"\n            />\n            <div className=\"subsection-title\">Operations</div>\n            <Heatmap\n                list={Object.keys(data.themes[year].o)}\n                getObject={(o) => operations.find((o2) => o2.id == o)}\n                getValue={(o) => data.themes[year].o[o]}\n                maxValue={maxOperation}\n                colorClass=\"operation\"\n            />\n            <div className=\"bottom-note\">\n                <div>Note: recipients may have more than one theme description within each category and data may not be provided for full calendar years, see <span className=\"link-rev\" onClick={() => this.props.setPage(\"about\")}>About</span> for limitations in this data</div>\n            </div>\n        </div>;\n    }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Overall);\n\n"]}